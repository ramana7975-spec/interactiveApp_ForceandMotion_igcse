<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IGCSE Physics: Ultimate Interactive Experience</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Revolutionary IGCSE Physics learning platform with gamification, real-world scenarios, and interactive simulations">
</head>
<body>
    <!-- Gamification Overlay -->
    <div id="gamification-panel" class="gamification-panel" aria-label="Progress and achievements">
        <div class="level-display">
            <span class="level-badge" aria-label="Current level">Level <span id="user-level">1</span></span>
            <span class="xp-text" aria-label="Experience points"><span id="user-xp">0</span> / <span id="xp-needed">100</span> XP</span>
        </div>
        <div class="xp-bar-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
            <div id="xp-bar" class="xp-bar"></div>
        </div>
        <button id="achievements-btn" class="icon-btn" aria-label="View achievements" title="Achievements">
            üèÜ <span id="achievement-count">0</span>
        </button>
        <button id="theme-toggle" class="icon-btn" aria-label="Toggle dark mode" title="Toggle Theme">üåô</button>
        <button id="sound-toggle" class="icon-btn" aria-label="Toggle sound" title="Toggle Sound">üîä</button>
    </div>

    <!-- Achievement Notification -->
    <div id="achievement-notification" class="achievement-notification" role="alert" aria-live="polite"></div>

    <!-- Particle Canvas for Effects -->
    <canvas id="particle-canvas" class="particle-canvas"></canvas>

    <header>
        <h1>üöÄ IGCSE Physics: Ultimate Interactive Experience</h1>
        <p>Revolutionary Learning Platform with Gamification, Real-World Scenarios & Advanced Simulations</p>
    </header>

    <nav class="topic-nav" role="navigation" aria-label="Main navigation">
        <button class="nav-btn active" onclick="showTopic('motion')" aria-label="Motion topic">Motion</button>
        <button class="nav-btn" onclick="showTopic('resultant-force')" aria-label="Resultant force topic">Resultant Force</button>
        <button class="nav-btn" onclick="showTopic('momentum')" aria-label="Momentum topic">Momentum</button>
        <button class="nav-btn" onclick="showTopic('terminal-velocity')" aria-label="Terminal velocity topic">Terminal Velocity</button>
        <button class="nav-btn" onclick="showTopic('centre-mass')" aria-label="Centre of mass topic">Centre of Mass</button>
        <button class="nav-btn" onclick="showTopic('moment')" aria-label="Moment topic">Moment</button>
        <button class="nav-btn" onclick="showTopic('projectile')" aria-label="Projectile motion topic">üéØ Projectile Motion</button>
        <button class="nav-btn" onclick="showTopic('energy')" aria-label="Energy and power topic">‚ö° Energy & Power</button>
        <button class="nav-btn" onclick="showTopic('circular')" aria-label="Circular motion topic">üåç Circular Motion</button>
        <button class="nav-btn" onclick="showTopic('friction')" aria-label="Friction topic">üî• Friction</button>
        <button class="nav-btn" onclick="showTopic('challenge')" aria-label="Challenge mode">üéÆ Challenge Mode</button>
        <button class="nav-btn" onclick="showTopic('sandbox')" aria-label="Physics sandbox">üî¨ Physics Sandbox</button>
    </nav>

    <main role="main">
        <!-- Motion Section -->
        <section id="motion" class="topic-section active">
            <h2>Motion</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Distance:</strong> Total path traveled (scalar)</li>
                        <li><strong>Displacement:</strong> Shortest distance from start to finish (vector)</li>
                        <li><strong>Speed:</strong> Distance/Time (scalar)</li>
                        <li><strong>Velocity:</strong> Displacement/Time (vector)</li>
                        <li><strong>Acceleration:</strong> Change in velocity/Time</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equations:</strong></p>
                        <p>v = u + at</p>
                        <p>s = ut + ¬Ωat¬≤</p>
                        <p>v¬≤ = u¬≤ + 2as</p>
                        <p>s = (u + v)t/2</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Velocity-Time Graph Simulator</h3>
                    <div class="controls">
                        <label>Initial Velocity (u): <span id="u-value">0</span> m/s</label>
                        <input type="range" id="initial-velocity" min="0" max="20" value="0" step="1" aria-label="Adjust initial velocity">

                        <label>Acceleration (a): <span id="a-value">2</span> m/s¬≤</label>
                        <input type="range" id="acceleration" min="-5" max="5" value="2" step="0.5" aria-label="Adjust acceleration">

                        <label>Time: <span id="time-value">10</span> s</label>
                        <input type="range" id="time-range" min="5" max="20" value="10" step="1" aria-label="Adjust time">

                        <button onclick="resetMotion()" aria-label="Reset motion simulation">Reset</button>
                        <button onclick="toggleAnimation()" aria-label="Start or stop animation">Start/Stop</button>
                    </div>
                    <canvas id="motion-canvas" width="600" height="400" aria-label="Motion graph visualization"></canvas>
                    <div class="results">
                        <p>Final Velocity: <span id="final-velocity">0</span> m/s</p>
                        <p>Displacement: <span id="displacement">0</span> m</p>
                        <p>Distance Traveled: <span id="distance-traveled">0</span> m</p>
                    </div>
                    <div class="calculation-explanation" id="area-calculation" style="display:none; margin-top: 20px; padding: 15px; background-color: #e8f4f8; border-left: 4px solid #3498db; border-radius: 5px;">
                        <h4 style="margin-top: 0; color: #2c3e50;">üìê Distance Calculation Using Area Under Graph</h4>
                        <div id="calculation-steps"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resultant Force Section -->
        <section id="resultant-force" class="topic-section">
            <h2>Resultant Force</h2>

            <!-- Comprehensive Notes Section -->
            <div class="notes-section" style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                <h3 style="color: #2c3e50; margin-top: 0;">What is Resultant Force?</h3>
                <p style="line-height: 1.8; color: #34495e;">
                    The <strong>resultant force</strong> is the single force that has the same effect as all the individual forces acting on an object combined.
                    When multiple forces act on an object, we can replace them with one equivalent force - the resultant force.
                </p>

                <h3 style="color: #2c3e50; margin-top: 20px;">Newton's Laws of Motion</h3>
                <ul style="line-height: 1.8; color: #34495e;">
                    <li><strong>First Law:</strong> An object remains at rest or in uniform motion unless acted upon by a resultant force</li>
                    <li><strong>Second Law:</strong> F = ma (Force = mass √ó acceleration)</li>
                    <li><strong>Third Law:</strong> Every action has an equal and opposite reaction</li>
                </ul>

                <h3 style="color: #2c3e50; margin-top: 20px;">Calculating Resultant Force - Three Key Scenarios</h3>

                <!-- Scenario 1: Same Direction -->
                <div style="background: white; padding: 15px; border-radius: 5px; margin: 15px 0; border-left: 4px solid #27ae60;">
                    <h4 style="margin-top: 0; color: #27ae60;">üìå Scenario 1: Forces in the SAME DIRECTION</h4>
                    <p style="margin: 10px 0;"><strong>Rule:</strong> Add the forces together</p>
                    <div style="background: #e8f8f5; padding: 12px; border-radius: 5px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong>Example:</strong></p>
                        <p style="margin: 5px 0;">Two people push a car:</p>
                        <ul style="margin: 5px 0;">
                            <li>Person A pushes with 200 N to the right ‚Üí</li>
                            <li>Person B pushes with 150 N to the right ‚Üí</li>
                        </ul>
                        <p style="margin: 10px 0; font-family: monospace; font-size: 16px; font-weight: bold;">
                            Resultant Force = 200 N + 150 N = 350 N to the right ‚Üí
                        </p>
                        <p style="margin: 5px 0; color: #27ae60;">‚úì The car experiences a net force of 350 N in the direction of motion</p>
                    </div>
                </div>

                <!-- Scenario 2: Opposite Direction -->
                <div style="background: white; padding: 15px; border-radius: 5px; margin: 15px 0; border-left: 4px solid #e74c3c;">
                    <h4 style="margin-top: 0; color: #e74c3c;">üìå Scenario 2: Forces in OPPOSITE DIRECTIONS</h4>
                    <p style="margin: 10px 0;"><strong>Rule:</strong> Subtract the smaller force from the larger force</p>
                    <div style="background: #fadbd8; padding: 12px; border-radius: 5px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong>Example:</strong></p>
                        <p style="margin: 5px 0;">Tug of war between two teams:</p>
                        <ul style="margin: 5px 0;">
                            <li>Team A pulls with 500 N to the left ‚Üê</li>
                            <li>Team B pulls with 300 N to the right ‚Üí</li>
                        </ul>
                        <p style="margin: 10px 0; font-family: monospace; font-size: 16px; font-weight: bold;">
                            Resultant Force = 500 N - 300 N = 200 N to the left ‚Üê
                        </p>
                        <p style="margin: 5px 0; color: #e74c3c;">‚úì The rope experiences a net force of 200 N toward Team A</p>
                        <p style="margin: 10px 0; font-style: italic;">Note: If forces are equal (500 N ‚Üê and 500 N ‚Üí), resultant = 0 N (equilibrium)</p>
                    </div>
                </div>

                <!-- Scenario 3: 90 Degrees -->
                <div style="background: white; padding: 15px; border-radius: 5px; margin: 15px 0; border-left: 4px solid #3498db;">
                    <h4 style="margin-top: 0; color: #3498db;">üìå Scenario 3: Forces at 90¬∞ (RIGHT ANGLES)</h4>
                    <p style="margin: 10px 0;"><strong>Rule:</strong> Use Pythagoras' theorem to find the magnitude</p>
                    <div style="background: #d6eaf8; padding: 12px; border-radius: 5px; margin: 10px 0;">
                        <p style="margin: 5px 0;"><strong>Example:</strong></p>
                        <p style="margin: 5px 0;">A boat experiences two forces:</p>
                        <ul style="margin: 5px 0;">
                            <li>Engine provides 40 N forward (horizontal) ‚Üí</li>
                            <li>Wind provides 30 N sideways (vertical) ‚Üë</li>
                        </ul>
                        <p style="margin: 10px 0;"><strong>Step 1:</strong> Calculate magnitude using Pythagoras</p>
                        <p style="margin: 5px 0; font-family: monospace; font-size: 15px;">
                            Resultant¬≤ = 40¬≤ + 30¬≤<br/>
                            Resultant¬≤ = 1600 + 900 = 2500<br/>
                            Resultant = ‚àö2500 = 50 N
                        </p>
                        <p style="margin: 10px 0;"><strong>Step 2:</strong> Calculate direction using trigonometry</p>
                        <p style="margin: 5px 0; font-family: monospace; font-size: 15px;">
                            tan(Œ∏) = opposite/adjacent = 30/40 = 0.75<br/>
                            Œ∏ = tan‚Åª¬π(0.75) = 36.87¬∞
                        </p>
                        <p style="margin: 10px 0; font-weight: bold; color: #3498db;">
                            ‚úì Resultant Force = 50 N at 36.87¬∞ from horizontal
                        </p>
                    </div>
                </div>

                <div class="formula-box" style="margin-top: 20px;">
                    <p><strong>Key Formulas:</strong></p>
                    <p>F = ma (Newton's Second Law)</p>
                    <p>Same direction: F_resultant = F‚ÇÅ + F‚ÇÇ</p>
                    <p>Opposite direction: F_resultant = F‚ÇÅ - F‚ÇÇ</p>
                    <p>At 90¬∞: F_resultant = ‚àö(F‚ÇÅ¬≤ + F‚ÇÇ¬≤)</p>
                    <p>Angle: Œ∏ = tan‚Åª¬π(F_vertical / F_horizontal)</p>
                </div>
            </div>

            <!-- Interactive Simulator -->
            <div class="content-grid">
                <div class="interactive" style="grid-column: 1 / -1;">
                    <h3>Interactive Resultant Force Simulator</h3>

                    <!-- Scenario Presets -->
                    <div style="background: #ecf0f1; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                        <h4 style="margin-top: 0;">Quick Scenarios:</h4>
                        <button onclick="loadScenario('same')" style="margin: 5px; padding: 10px 20px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">Same Direction</button>
                        <button onclick="loadScenario('opposite')" style="margin: 5px; padding: 10px 20px; background: #e74c3c; color: white; border: none; border-radius: 5px; cursor: pointer;">Opposite Direction</button>
                        <button onclick="loadScenario('perpendicular')" style="margin: 5px; padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">90¬∞ Angle</button>
                        <button onclick="loadScenario('custom')" style="margin: 5px; padding: 10px 20px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer;">Custom</button>
                    </div>

                    <div class="controls">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <label>Force 1 Magnitude: <span id="f1-mag-value">50</span> N</label>
                                <input type="range" id="force1-mag" min="0" max="100" value="50" step="5">

                                <label>Force 1 Angle: <span id="f1-angle-value">0</span>¬∞</label>
                                <input type="range" id="force1-angle" min="0" max="360" value="0" step="15">
                            </div>

                            <div>
                                <label>Force 2 Magnitude: <span id="f2-mag-value">30</span> N</label>
                                <input type="range" id="force2-mag" min="0" max="100" value="30" step="5">

                                <label>Force 2 Angle: <span id="f2-angle-value">90</span>¬∞</label>
                                <input type="range" id="force2-angle" min="0" max="360" value="90" step="15">
                            </div>
                        </div>

                        <label>Mass: <span id="mass-value">10</span> kg</label>
                        <input type="range" id="mass" min="1" max="50" value="10" step="1">

                        <button onclick="resetForces()">Reset</button>
                    </div>

                    <canvas id="force-canvas" width="700" height="500"></canvas>

                    <div class="results" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 20px;">
                        <h4 style="margin-top: 0;">Results:</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <p><strong>Force 1:</strong></p>
                                <p>Magnitude: <span id="f1-display">0</span> N</p>
                                <p>Components: (<span id="f1x-display">0</span>, <span id="f1y-display">0</span>) N</p>
                            </div>
                            <div>
                                <p><strong>Force 2:</strong></p>
                                <p>Magnitude: <span id="f2-display">0</span> N</p>
                                <p>Components: (<span id="f2x-display">0</span>, <span id="f2y-display">0</span>) N</p>
                            </div>
                        </div>
                        <div style="background: #3498db; color: white; padding: 15px; border-radius: 5px; margin-top: 15px;">
                            <p style="margin: 5px 0; font-size: 18px;"><strong>Resultant Force: <span id="resultant-force">0</span> N</strong></p>
                            <p style="margin: 5px 0;">Direction: <span id="force-angle">0</span>¬∞ from horizontal</p>
                            <p style="margin: 5px 0;">Components: (<span id="rx-display">0</span>, <span id="ry-display">0</span>) N</p>
                        </div>
                        <div style="background: #2ecc71; color: white; padding: 15px; border-radius: 5px; margin-top: 15px;">
                            <p style="margin: 5px 0; font-size: 16px;"><strong>Acceleration: <span id="force-acceleration">0</span> m/s¬≤</strong></p>
                            <p style="margin: 5px 0; font-size: 14px;">(Using F = ma)</p>
                        </div>
                    </div>

                    <!-- Calculation Explanation -->
                    <div id="force-calculation-explanation" style="background: #e8f4f8; padding: 20px; border-radius: 8px; border-left: 4px solid #3498db; margin-top: 20px;">
                        <h4 style="margin-top: 0; color: #2c3e50;">üìê Calculation Steps</h4>
                        <div id="force-calc-steps"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Momentum Section -->
        <section id="momentum" class="topic-section">
            <h2>Momentum</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Momentum:</strong> p = mv (mass √ó velocity)</li>
                        <li><strong>Conservation:</strong> Total momentum before = Total momentum after (in isolated system)</li>
                        <li><strong>Impulse:</strong> Force √ó Time = Change in momentum</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equations:</strong></p>
                        <p>p = mv</p>
                        <p>Ft = Œî(mv)</p>
                        <p>m‚ÇÅu‚ÇÅ + m‚ÇÇu‚ÇÇ = m‚ÇÅv‚ÇÅ + m‚ÇÇv‚ÇÇ</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Collision Simulator</h3>
                    <div class="controls">
                        <label>Mass 1: <span id="m1-value">5</span> kg</label>
                        <input type="range" id="mass1" min="1" max="10" value="5" step="0.5">

                        <label>Velocity 1: <span id="v1-value">8</span> m/s</label>
                        <input type="range" id="velocity1" min="0" max="15" value="8" step="0.5">

                        <label>Mass 2: <span id="m2-value">3</span> kg</label>
                        <input type="range" id="mass2" min="1" max="10" value="3" step="0.5">

                        <label>Velocity 2: <span id="v2-value">-4</span> m/s</label>
                        <input type="range" id="velocity2" min="-15" max="15" value="-4" step="0.5">

                        <label>
                            <input type="checkbox" id="elastic-collision" checked> Elastic Collision
                        </label>

                        <button onclick="startCollision()">Start Collision</button>
                        <button onclick="resetCollision()">Reset</button>
                    </div>
                    <canvas id="momentum-canvas" width="600" height="300"></canvas>
                    <div class="results">
                        <p>Initial Momentum: <span id="initial-momentum">0</span> kg¬∑m/s</p>
                        <p>Final Momentum: <span id="final-momentum">0</span> kg¬∑m/s</p>
                        <p>Momentum Conserved: <span id="momentum-conserved">Yes</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Terminal Velocity Section -->
        <section id="terminal-velocity" class="topic-section">
            <h2>Force and Terminal Velocity</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Free Fall:</strong> Motion under gravity alone (g = 9.8 m/s¬≤)</li>
                        <li><strong>Air Resistance:</strong> Increases with speed</li>
                        <li><strong>Terminal Velocity:</strong> When air resistance equals weight, acceleration = 0</li>
                        <li><strong>At terminal velocity:</strong> Constant speed, no net force</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Forces:</strong></p>
                        <p>Weight = mg (downward)</p>
                        <p>Air Resistance ‚àù v¬≤ (upward)</p>
                        <p>At terminal velocity: Weight = Air Resistance</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Falling Object Simulator</h3>
                    <div class="controls">
                        <label>Mass: <span id="fall-mass-value">2</span> kg</label>
                        <input type="range" id="fall-mass" min="0.5" max="10" value="2" step="0.5">

                        <label>Drag Coefficient: <span id="drag-value">0.1</span></label>
                        <input type="range" id="drag-coefficient" min="0" max="0.5" value="0.1" step="0.01">

                        <button onclick="startFall()">Start</button>
                        <button onclick="resetFall()">Reset</button>
                    </div>
                    <canvas id="terminal-canvas" width="600" height="500"></canvas>
                    <div class="results">
                        <p>Current Velocity: <span id="current-velocity">0</span> m/s</p>
                        <p>Weight: <span id="weight-force">0</span> N</p>
                        <p>Air Resistance: <span id="air-resistance">0</span> N</p>
                        <p>Terminal Velocity: <span id="terminal-velocity">0</span> m/s</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Centre of Mass Section -->
        <section id="centre-mass" class="topic-section">
            <h2>Centre of Mass</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Centre of Mass:</strong> Point where all mass can be considered to be concentrated</li>
                        <li><strong>Stability:</strong> Objects are stable when centre of mass is above base of support</li>
                        <li><strong>Lower centre of mass:</strong> More stable</li>
                        <li><strong>Wider base:</strong> More stable</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>For multiple objects:</strong></p>
                        <p>x_cm = (m‚ÇÅx‚ÇÅ + m‚ÇÇx‚ÇÇ + ...) / (m‚ÇÅ + m‚ÇÇ + ...)</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Balance Point Simulator</h3>
                    <div class="controls">
                        <label>Mass 1: <span id="cm-m1-value">5</span> kg</label>
                        <input type="range" id="cm-mass1" min="1" max="15" value="5" step="0.5">

                        <label>Position 1: <span id="cm-x1-value">100</span> px</label>
                        <input type="range" id="cm-pos1" min="50" max="250" value="100" step="10">

                        <label>Mass 2: <span id="cm-m2-value">3</span> kg</label>
                        <input type="range" id="cm-mass2" min="1" max="15" value="3" step="0.5">

                        <label>Position 2: <span id="cm-x2-value">400</span> px</label>
                        <input type="range" id="cm-pos2" min="350" max="550" value="400" step="10">

                        <button onclick="updateCentreOfMass()">Update</button>
                        <button onclick="resetCentreOfMass()">Reset</button>
                    </div>
                    <canvas id="centre-mass-canvas" width="600" height="300"></canvas>
                    <div class="results">
                        <p>Centre of Mass Position: <span id="cm-position">0</span> px</p>
                        <p>Total Mass: <span id="total-mass">0</span> kg</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Moment Section -->
        <section id="moment" class="topic-section">
            <h2>Moment (Torque)</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Moment:</strong> Turning effect of a force</li>
                        <li><strong>Moment = Force √ó Perpendicular distance from pivot</strong></li>
                        <li><strong>Principle of Moments:</strong> For equilibrium, sum of clockwise moments = sum of anticlockwise moments</li>
                        <li><strong>Couple:</strong> Two equal and opposite forces with different lines of action</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equation:</strong></p>
                        <p>Moment = F √ó d</p>
                        <p>Unit: Newton-meter (N¬∑m)</p>
                        <p>Equilibrium: Œ£Clockwise = Œ£Anticlockwise</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Lever Balance Simulator</h3>
                    <div class="controls">
                        <label>Left Force: <span id="left-force-value">30</span> N</label>
                        <input type="range" id="left-force" min="0" max="100" value="30" step="5">

                        <label>Left Distance: <span id="left-dist-value">2</span> m</label>
                        <input type="range" id="left-distance" min="0.5" max="5" value="2" step="0.1">

                        <label>Right Force: <span id="right-force-value">20</span> N</label>
                        <input type="range" id="right-force" min="0" max="100" value="20" step="5">

                        <label>Right Distance: <span id="right-dist-value">3</span> m</label>
                        <input type="range" id="right-distance" min="0.5" max="5" value="3" step="0.1">

                        <button onclick="updateMoment()">Update</button>
                        <button onclick="resetMoment()">Reset</button>
                    </div>
                    <canvas id="moment-canvas" width="600" height="400"></canvas>
                    <div class="results">
                        <p>Clockwise Moment: <span id="clockwise-moment">0</span> N¬∑m</p>
                        <p>Anticlockwise Moment: <span id="anticlockwise-moment">0</span> N¬∑m</p>
                        <p>Net Moment: <span id="net-moment">0</span> N¬∑m</p>
                        <p>Status: <span id="balance-status">Balanced</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Projectile Motion Section -->
        <section id="projectile" class="topic-section">
            <h2>üéØ Projectile Motion</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Horizontal Component:</strong> Constant velocity (no acceleration)</li>
                        <li><strong>Vertical Component:</strong> Accelerated motion (g = 9.8 m/s¬≤)</li>
                        <li><strong>Parabolic Path:</strong> Combination of horizontal and vertical motion</li>
                        <li><strong>Range:</strong> Maximum horizontal distance traveled</li>
                        <li><strong>Maximum Height:</strong> Peak of trajectory</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equations:</strong></p>
                        <p>Horizontal: x = v‚ÇÄ cos(Œ∏) √ó t</p>
                        <p>Vertical: y = v‚ÇÄ sin(Œ∏) √ó t - ¬Ωgt¬≤</p>
                        <p>Range: R = (v‚ÇÄ¬≤ sin(2Œ∏)) / g</p>
                        <p>Max Height: H = (v‚ÇÄ¬≤ sin¬≤(Œ∏)) / (2g)</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Projectile Motion Simulator</h3>

                    <!-- Real-World Scenarios -->
                    <div style="background: #ecf0f1; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                        <h4 style="margin-top: 0;">Real-World Scenarios:</h4>
                        <button onclick="loadProjectileScenario('basketball')" style="margin: 5px; padding: 10px 20px; background: #e67e22; color: white; border: none; border-radius: 5px; cursor: pointer;">üèÄ Basketball Shot</button>
                        <button onclick="loadProjectileScenario('cannon')" style="margin: 5px; padding: 10px 20px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer;">üí£ Cannon</button>
                        <button onclick="loadProjectileScenario('rocket')" style="margin: 5px; padding: 10px 20px; background: #9b59b6; color: white; border: none; border-radius: 5px; cursor: pointer;">üöÄ Rocket</button>
                    </div>

                    <div class="controls">
                        <label>Initial Velocity: <span id="proj-velocity-value">20</span> m/s</label>
                        <input type="range" id="proj-velocity" min="5" max="50" value="20" step="1">

                        <label>Launch Angle: <span id="proj-angle-value">45</span>¬∞</label>
                        <input type="range" id="proj-angle" min="0" max="90" value="45" step="5">

                        <label>Launch Height: <span id="proj-height-value">0</span> m</label>
                        <input type="range" id="proj-height" min="0" max="20" value="0" step="1">

                        <button onclick="launchProjectile()">Launch</button>
                        <button onclick="resetProjectile()">Reset</button>
                    </div>
                    <canvas id="projectile-canvas" width="700" height="400"></canvas>
                    <div class="results">
                        <p>Range: <span id="proj-range">0</span> m</p>
                        <p>Maximum Height: <span id="proj-max-height">0</span> m</p>
                        <p>Flight Time: <span id="proj-time">0</span> s</p>
                        <p>Horizontal Component: <span id="proj-vx">0</span> m/s</p>
                        <p>Vertical Component: <span id="proj-vy">0</span> m/s</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Energy & Power Section -->
        <section id="energy" class="topic-section">
            <h2>‚ö° Energy & Power</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Kinetic Energy:</strong> Energy of motion (KE = ¬Ωmv¬≤)</li>
                        <li><strong>Potential Energy:</strong> Energy due to position (PE = mgh)</li>
                        <li><strong>Work Done:</strong> Energy transferred by a force (W = Fd)</li>
                        <li><strong>Power:</strong> Rate of energy transfer (P = W/t)</li>
                        <li><strong>Conservation of Energy:</strong> Total energy remains constant</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equations:</strong></p>
                        <p>KE = ¬Ωmv¬≤</p>
                        <p>PE = mgh</p>
                        <p>W = Fd</p>
                        <p>P = W/t = Fv</p>
                        <p>Total E = KE + PE</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Roller Coaster Energy Simulator</h3>
                    <div class="controls">
                        <label>Cart Mass: <span id="cart-mass-value">500</span> kg</label>
                        <input type="range" id="cart-mass" min="100" max="1000" value="500" step="50">

                        <label>Starting Height: <span id="start-height-value">30</span> m</label>
                        <input type="range" id="start-height" min="10" max="50" value="30" step="2">

                        <label>Friction: <span id="friction-value">0.05</span></label>
                        <input type="range" id="friction" min="0" max="0.2" value="0.05" step="0.01">

                        <button onclick="startRollerCoaster()">Start Ride</button>
                        <button onclick="resetRollerCoaster()">Reset</button>
                    </div>
                    <canvas id="energy-canvas" width="700" height="450"></canvas>
                    <div class="results">
                        <p>Potential Energy: <span id="pe-value">0</span> J</p>
                        <p>Kinetic Energy: <span id="ke-value">0</span> J</p>
                        <p>Total Energy: <span id="total-energy">0</span> J</p>
                        <p>Current Velocity: <span id="energy-velocity">0</span> m/s</p>
                        <p>Current Height: <span id="energy-height">0</span> m</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Circular Motion Section -->
        <section id="circular" class="topic-section">
            <h2>üåç Circular Motion</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Centripetal Force:</strong> Force directed toward center (F = mv¬≤/r)</li>
                        <li><strong>Angular Velocity:</strong> Rate of rotation (œâ = v/r)</li>
                        <li><strong>Period:</strong> Time for one complete revolution (T = 2œÄr/v)</li>
                        <li><strong>Frequency:</strong> Number of revolutions per second (f = 1/T)</li>
                        <li><strong>Orbital Motion:</strong> Satellites, planets, electrons</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equations:</strong></p>
                        <p>F = mv¬≤/r</p>
                        <p>v = 2œÄr/T</p>
                        <p>œâ = 2œÄ/T</p>
                        <p>a = v¬≤/r</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Satellite Orbit Simulator</h3>

                    <!-- Orbital Scenarios -->
                    <div style="background: #ecf0f1; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                        <h4 style="margin-top: 0;">Orbital Scenarios:</h4>
                        <button onclick="loadOrbitScenario('iss')" style="margin: 5px; padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">üõ∞Ô∏è ISS Orbit</button>
                        <button onclick="loadOrbitScenario('moon')" style="margin: 5px; padding: 10px 20px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer;">üåï Moon Orbit</button>
                        <button onclick="loadOrbitScenario('gps')" style="margin: 5px; padding: 10px 20px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">üì° GPS Satellite</button>
                    </div>

                    <div class="controls">
                        <label>Orbital Radius: <span id="orbit-radius-value">400</span> km</label>
                        <input type="range" id="orbit-radius" min="200" max="2000" value="400" step="50">

                        <label>Satellite Mass: <span id="sat-mass-value">1000</span> kg</label>
                        <input type="range" id="sat-mass" min="100" max="5000" value="1000" step="100">

                        <label>Central Mass: <span id="central-mass-value">5.97</span> √ó 10¬≤‚Å¥ kg</label>
                        <input type="range" id="central-mass" min="1" max="10" value="5.97" step="0.1">

                        <button onclick="startOrbit()">Start Orbit</button>
                        <button onclick="resetOrbit()">Reset</button>
                    </div>
                    <canvas id="circular-canvas" width="600" height="600"></canvas>
                    <div class="results">
                        <p>Orbital Velocity: <span id="orbital-velocity">0</span> m/s</p>
                        <p>Centripetal Force: <span id="centripetal-force">0</span> N</p>
                        <p>Period: <span id="orbit-period">0</span> minutes</p>
                        <p>Angular Velocity: <span id="angular-velocity">0</span> rad/s</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Friction Section -->
        <section id="friction" class="topic-section">
            <h2>üî• Friction</h2>
            <div class="content-grid">
                <div class="explanation">
                    <h3>Key Concepts</h3>
                    <ul>
                        <li><strong>Static Friction:</strong> Prevents motion from starting (f_s ‚â§ Œº_s N)</li>
                        <li><strong>Kinetic Friction:</strong> Opposes motion (f_k = Œº_k N)</li>
                        <li><strong>Coefficient of Friction:</strong> Surface-dependent constant (Œº)</li>
                        <li><strong>Normal Force:</strong> Perpendicular force from surface (N)</li>
                        <li><strong>Applications:</strong> Braking, walking, grip</li>
                    </ul>
                    <div class="formula-box">
                        <p><strong>Key Equations:</strong></p>
                        <p>f_s ‚â§ Œº_s N</p>
                        <p>f_k = Œº_k N</p>
                        <p>N = mg (horizontal surface)</p>
                        <p>Œº_s > Œº_k (static > kinetic)</p>
                    </div>
                </div>
                <div class="interactive">
                    <h3>Friction Force Simulator</h3>

                    <!-- Surface Types -->
                    <div style="background: #ecf0f1; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                        <h4 style="margin-top: 0;">Surface Types:</h4>
                        <button onclick="loadSurface('ice')" style="margin: 5px; padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">‚ùÑÔ∏è Ice (Œº=0.1)</button>
                        <button onclick="loadSurface('wood')" style="margin: 5px; padding: 10px 20px; background: #d35400; color: white; border: none; border-radius: 5px; cursor: pointer;">ü™µ Wood (Œº=0.4)</button>
                        <button onclick="loadSurface('rubber')" style="margin: 5px; padding: 10px 20px; background: #2c3e50; color: white; border: none; border-radius: 5px; cursor: pointer;">üõû Rubber (Œº=0.8)</button>
                    </div>

                    <div class="controls">
                        <label>Object Mass: <span id="friction-mass-value">10</span> kg</label>
                        <input type="range" id="friction-mass" min="1" max="50" value="10" step="1">

                        <label>Applied Force: <span id="applied-force-value">0</span> N</label>
                        <input type="range" id="applied-force" min="0" max="200" value="0" step="5">

                        <label>Coefficient (Œº): <span id="mu-value">0.4</span></label>
                        <input type="range" id="mu" min="0.05" max="1" value="0.4" step="0.05">

                        <button onclick="applyFrictionForce()">Apply Force</button>
                        <button onclick="resetFriction()">Reset</button>
                    </div>
                    <canvas id="friction-canvas" width="700" height="300"></canvas>
                    <div class="results">
                        <p>Normal Force: <span id="normal-force">0</span> N</p>
                        <p>Max Static Friction: <span id="static-friction">0</span> N</p>
                        <p>Kinetic Friction: <span id="kinetic-friction">0</span> N</p>
                        <p>Net Force: <span id="net-force-friction">0</span> N</p>
                        <p>Status: <span id="friction-status">At Rest</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW: Challenge Mode Section -->
        <section id="challenge" class="topic-section">
            <h2>üéÆ Challenge Mode</h2>
            <div class="challenge-container">
                <div class="challenge-header">
                    <h3>Test Your Physics Knowledge!</h3>
                    <p>Solve problems as fast as you can to earn bonus XP</p>
                </div>

                <div class="challenge-stats">
                    <div class="stat-item">
                        <span class="stat-label">Score:</span>
                        <span class="stat-value" id="challenge-score">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Streak:</span>
                        <span class="stat-value" id="challenge-streak">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Time:</span>
                        <span class="stat-value" id="challenge-timer">0:00</span>
                    </div>
                </div>

                <div id="challenge-problem" class="challenge-problem">
                    <h4 id="problem-text">Click "New Challenge" to start!</h4>
                    <div id="problem-diagram"></div>
                    <div class="answer-input">
                        <label for="answer-input">Your Answer:</label>
                        <input type="number" id="answer-input" placeholder="Enter answer" step="0.01">
                        <span id="answer-unit">units</span>
                    </div>
                    <div class="challenge-buttons">
                        <button onclick="checkAnswer()" class="btn-check">Check Answer</button>
                        <button onclick="newChallenge()" class="btn-new">New Challenge</button>
                        <button onclick="skipChallenge()" class="btn-skip">Skip (-10 points)</button>
                    </div>
                    <div id="challenge-feedback" class="challenge-feedback"></div>
                </div>

                <div class="challenge-leaderboard">
                    <h4>Top Scores Today</h4>
                    <ol id="leaderboard-list">
                        <li>No scores yet - be the first!</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- NEW: Physics Sandbox Section -->
        <section id="sandbox" class="topic-section">
            <h2>üî¨ Physics Sandbox</h2>
            <div class="sandbox-container">
                <div class="sandbox-header">
                    <h3>Build Your Own Physics Experiment!</h3>
                    <p>Add objects, apply forces, and observe the results in real-time</p>
                </div>

                <div class="sandbox-controls">
                    <div class="control-panel">
                        <h4>Add Objects</h4>
                        <button onclick="addSandboxObject('circle')" class="sandbox-btn">‚ö´ Circle</button>
                        <button onclick="addSandboxObject('square')" class="sandbox-btn">‚¨õ Square</button>
                        <button onclick="addSandboxObject('ramp')" class="sandbox-btn">üìê Ramp</button>
                        <button onclick="addSandboxObject('spring')" class="sandbox-btn">üåÄ Spring</button>
                    </div>

                    <div class="control-panel">
                        <h4>Physics Settings</h4>
                        <label>Gravity: <span id="sandbox-gravity-value">9.8</span> m/s¬≤</label>
                        <input type="range" id="sandbox-gravity" min="0" max="20" value="9.8" step="0.1">

                        <label>Air Resistance: <span id="sandbox-air-value">0</span></label>
                        <input type="range" id="sandbox-air" min="0" max="1" value="0" step="0.05">

                        <label>Elasticity: <span id="sandbox-elasticity-value">0.8</span></label>
                        <input type="range" id="sandbox-elasticity" min="0" max="1" value="0.8" step="0.1">
                    </div>

                    <div class="control-panel">
                        <h4>Actions</h4>
                        <button onclick="startSandbox()" class="sandbox-btn-action">‚ñ∂Ô∏è Start</button>
                        <button onclick="pauseSandbox()" class="sandbox-btn-action">‚è∏Ô∏è Pause</button>
                        <button onclick="resetSandbox()" class="sandbox-btn-action">üîÑ Reset</button>
                        <button onclick="clearSandbox()" class="sandbox-btn-action">üóëÔ∏è Clear All</button>
                        <button onclick="exportSandbox()" class="sandbox-btn-action">üíæ Save Setup</button>
                    </div>
                </div>

                <canvas id="sandbox-canvas" width="800" height="500"></canvas>

                <div class="sandbox-info">
                    <p>Objects: <span id="sandbox-objects">0</span> | FPS: <span id="sandbox-fps">0</span> | Total Energy: <span id="sandbox-energy">0</span> J</p>
                    <p class="sandbox-hint">üí° Tip: Click objects to select, drag to move, right-click to apply forces!</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Achievements Modal -->
    <div id="achievements-modal" class="modal" role="dialog" aria-labelledby="achievements-title" aria-hidden="true">
        <div class="modal-content">
            <span class="close" onclick="closeAchievements()" aria-label="Close achievements">&times;</span>
            <h2 id="achievements-title">üèÜ Achievements</h2>
            <div id="achievements-grid" class="achievements-grid"></div>
        </div>
    </div>

    <footer>
        <p>IGCSE Physics Ultimate Interactive Tool | Cambridge Curriculum | ¬© 2024</p>
        <p>Made with ‚ù§Ô∏è for physics enthusiasts worldwide</p>
    </footer>

    <script src="physics-calculations.js"></script>
    <script src="app.js"></script>
</body>
</html>
